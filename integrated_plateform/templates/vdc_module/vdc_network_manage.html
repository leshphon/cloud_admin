{% extends 'vdc_module/vdc_module_base.html' %}
{% load static %}
{% load staticfiles %}
{% block tag_title %}
<title>网络</title>
{% endblock %}
{% block extracss %}
    <link href="{% static 'assets/global/css/components.min.css' %}" rel="stylesheet" id="style_components" type="text/css" /> <!-- sidebar字体加粗 -->
    <link href="{% static 'assets/global/css/plugins.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- Data Tables -->
    <link href="{% static 'css/plugins/dataTables/dataTables.bootstrap.css' %}" rel="stylesheet">

    <script type="text/javascript" src="{% static 'js/jQuery.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- BEGIN CORE PLUGINS -->
    <script src="{% static 'assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'assets/global/plugins/jquery.blockui.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}" type="text/javascript"></script>
    <!-- END CORE PLUGINS -->


{% endblock %}


{% block content %}
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="container-fluid">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5><strong>网络信息</strong></h5>
                    <div class="ibox-tools">
                        <a data-toggle="modal" class="btn btn-primary btn-sm pull-right" data-target="#myModal">创建网络</a>
                        <button class="btn btn-sm">删除网络</button>
                    </div>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped table-bordered table-hover dataTables-example">
                        <thead>
                        <tr>
                            <th>项目</th>
                            <th>名称</th>
{#                            <th>ZONE</th>#}
                            <th>外部网络</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>

                        </tbody>

                    </table>
                </div>
            </div>
        </div>
        </div>
    </div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">
                    <span class="fa fa-times"></span>
                </a>
                <h4><strong>创建网络</strong></h4>
            </div>
            <div class="modal-body">
                <ul class="nav nav-tabs" id = "myTab" role="tablist">
                    <li class="nav-item active"><a href="#create_network_info" data-toggle="tab" data-target="#create_network_info" aria-expanded="true">网络</a> </li>
                    <li class="nav-item"><a href="#create_network_info" data-toggle="tab" data-target="#create_subnet_info" aria-expanded="false">子网</a> </li>
                </ul>
                <div class="tab-content">
                      <fieldset id="create_network_info" class="tab-pane active">
                            <noscript><h3>网络</h3></noscript>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label>名称</label>
                                        <input type="text" name="networkname" class="form-control">
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label class="control-label">项目</label>
                                        <select class="form-control" name="user_role" type="text">

                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label class="control-label">供应商网络类型</label>
                                        <select class="form-control" name="user_role" type="text">
                                            <option value = "option">请选择网络</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="themable-checkbox">
                                        <input checked="checked" type="checkbox">
                                        <label><span class="control-label">创建子网</span></label>
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="themable-checkbox">
                                        <input type="checkbox">
                                        <label><span class="control-label">共享的</span></label>
                                    </div>
                                </div>
                            </div>
                      </fieldset>
                    <fieldset id="create_subnet_info" class="tab-pane">
                        <noscript><h3>网络</h3></noscript>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>子网名称</label>
                                    <input type="text" name="networkname" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>网络地址</label>
                                    <input type="text" name="networkname" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>网关IP</label>
                                    <input type="text" name="networkname" class="form-control">
                                </div>
                                <div class="themable-checkbox">
                                    <input type="checkbox">
                                    <label><span class="control-label">共享的</span></label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="modal-footer">
                <div class="col-sm-12">
                    <a class="btn btn-default cancel">取消</a>
                    <button class="btn btn-default button-previous disabled" disabled>
                        <strong>返回</strong>
                    </button>
                    <button id="sys_create_user_sub" class="btn btn-primary button-next" style="display: inline-block" type="button">
                        <strong>下一步</strong>
                    </button>
                    <button id="sys_create_user_sub" class="btn btn-primary button-final" style="display: none" type="button">
                        <strong>创建</strong>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- Data Tables -->
    <script src="{% static 'js/plugins/dataTables/jquery.dataTables.js' %}"></script>
    <script src="{% static 'js/plugins/dataTables/dataTables.bootstrap.js'%}"></script>
    <!-- 自定义js -->

    <script>
    $(document).ready(function () {
        $('.dataTables-example').dataTable({
            "ajax": {
                url: "{% url 'vdc_module:show_server' %}",
                type: "get",
                dataSrc: function (data) {
                    console.log(data.servers)
{#                    var result = []#}
{#                    for(var i =0,ilen = data.servers.length; i<ilen;i++) {#}
{#                        var tmp = {}#}
{#                        tmp.name = data.servers[i].name;#}
{#                        tmp.status = data.servers[i].status;#}
{#                        tmp.keyname = data.servers[i].created;#}
{#                        tmp.id = data.servers[i].id;#}
{#                        result[i] = tmp;#}
{#                    }#}
{#                    console.log(result)#}
                    return data.servers;
                },

            },
            "bPaginate": true,
            "bSortMulti":false,
            "bAutoWidth": false,
            "columns": [
                {data: "name"},
                {data: "status"},
                {data: "created"},
                {data: "id"},
             ],
           });
     })

    </script>

{% endblock %}